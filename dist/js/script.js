$(document).ready(function(){function t(n){if(a=setTimeout(function(){if(0!==h){if(!f)return!1;$("#count").html(h).fadeIn()}},1500+800*n),r=setTimeout(function(){if(!f)return!1;$(p[b[n]][0]).css("background-color",p[b[n]][2]),soundManager.play(p[b[n]][3])},2e3+800*n),s=setTimeout(function(){if(!f)return!1;$(p[b[n]][0]).css("background-color",p[b[n]][1])},2500+800*n),!(n<b.length-1))return!0;t(n+1)}function n(){if(f)t(0);setTimeout(function(){l=!0},2e3+800*h)}function o(){var t=Math.floor(4*Math.random());b.push(t)}function e(){$(".q1").css("background-color",p[0][1]),$(".q2").css("background-color",p[1][1]),$(".q3").css("background-color",p[2][1]),$(".q4").css("background-color",p[3][1])}function u(t){$(p[t][0]).css("background-color",p[t][2]),setTimeout(function(){$(p[t][0]).css("background-color",p[t][1])},400)}function c(){g=[],l=!1}var a,r,s,i=!1,d=!1,f=!1,l=!1,m=!1,h=0,g=[],b=[],p=[["#q1","#1565C0","#4484CD","button1"],["#q2","#1B5E20","#497E4D","button2"],["#q3","#B71C1C","#C54949","button3"],["#q4","#FDD835","#FEE67C","button4"]];$("input[type='checkbox']").change(function(){f?(f=!1,$(".strictButton").css("border-color","black"),e(),clearTimeout(a),clearTimeout(r),clearTimeout(s),$("#count").html(""),i=!1,h=0,b=[]):f||(f=!0,$("#count").html("--"))}),$(".strictButton").click(function(){f&&(i?($(".strictButton").css("border-color","black"),i=!1):($(".strictButton").css("border-color","red"),i=!0))}),$(".startButton").click(function(){e(),f&&!d&&(d=!0,setTimeout(function(){d=!1},1e3),b=[],c(),$("#count").html("--"),h=1,$("#count").fadeOut(300).fadeIn(300).fadeOut(300).fadeIn(300).fadeOut(300),setTimeout(function(){$("#count").html(1).fadeIn(0),m=!1},1500),o(),n())}),$(".q1, .q2, .q3, .q4").click(function(t){if(l&&f&&b.length>0){var e=$(t.target).attr("id"),a=["q1","q2","q3","q4"].indexOf(e);u(a),g.push("#"+e),g[g.length-1]!==p[b[g.length-1]][0]?(c(),soundManager.play("error"),$("#count").html("!!!").fadeOut(400).fadeIn(400).fadeOut(400),i?i&&(setTimeout(function(){$("#count").html(1).fadeIn(0)},1600),b=[],h=1,o()):setTimeout(function(){$("#count").html(h).fadeIn(0)},1600),n()):(soundManager.play(p[a][3]),g.length===b.length&&(c(),20===h&&(setTimeout(function(){$("#count").html("WIN").fadeOut(400).fadeIn(400).fadeOut(400),soundManager.play("winner")},200),setTimeout(function(){$("#count").html(1).fadeIn(0)},2e3),h=0,b=[]),h++,o(),n()))}}),soundManager.onready(function(){soundManager.createSound({id:"button1",url:"https://s3.amazonaws.com/freecodecamp/simonSound1.mp3"}),soundManager.createSound({id:"button2",url:"https://s3.amazonaws.com/freecodecamp/simonSound2.mp3"}),soundManager.createSound({id:"button3",url:"https://s3.amazonaws.com/freecodecamp/simonSound3.mp3"}),soundManager.createSound({id:"button4",url:"https://s3.amazonaws.com/freecodecamp/simonSound4.mp3"}),soundManager.createSound({id:"error",url:"http://www.threecaster.com/wavy/WARNING1.wav"}),soundManager.createSound({id:"winner",url:"http://www.qwizx.com/gssfx/usa/ff-bell.wav"})})});